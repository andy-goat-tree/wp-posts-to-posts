<html>
    <head>
        <script type="text/javascript" src="../../js/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="../../syntax_highlighter/scripts/shCore.js"></script>
        <script type="text/javascript" src="../../syntax_highlighter/scripts/shBrushJScript.js"></script>
        <script type="text/javascript" src="../../syntax_highlighter/scripts/shBrushPhp.js"></script>
        <script type="text/javascript" src="../../syntax_highlighter/scripts/shBrushXml.js"></script>
        <link href="../../syntax_highlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
        <link href="../../syntax_highlighter/styles/shCoreEclipse.css" rel="stylesheet" type="text/css" />
        <link href="../../syntax_highlighter/styles/shThemeWordpress.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <pre class="brush: php">&lt;?php

/**
 * @package Administration
 */
class P2P_Field_Create implements P2P_Field {

	function get_title() {
		// Not needed
		return '';
	}

	function render( $key, $p2p_id, $post_id ) {
		$data = array(
			'post_id' =&gt; $post_id,
			'title' =&gt; __( 'Create connection', P2P_TEXTDOMAIN )
		);

		return _p2p_mustache_render( 'column-create.html', $data );
	}
}

/**
 * @package Administration
 */
class P2P_Field_Delete implements P2P_Field {

	function get_title() {
		$data = array(
			'title' =&gt; __( 'Delete all connections', P2P_TEXTDOMAIN )
		);

		return _p2p_mustache_render( 'column-delete-all.html', $data );
	}

	function render( $key, $p2p_id, $post_id ) {
		$data = array(
			'p2p_id' =&gt; $p2p_id,
			'title' =&gt; __( 'Delete connection', P2P_TEXTDOMAIN )
		);

		return _p2p_mustache_render( 'column-delete.html', $data );
	}
}

/**
 * @package Administration
 */
class P2P_Field_Order implements P2P_Field {

	protected $sort_key;

	function __construct( $sort_key ) {
		$this-&gt;sort_key = $sort_key;
	}

	function get_title() {
		return '';
	}

	function render( $key, $p2p_id, $post_id ) {
		return html( 'input', array(
			'type' =&gt; 'hidden',
			'name' =&gt; &quot;p2p_order[$this-&gt;sort_key][]&quot;,
			'value' =&gt; $p2p_id
		) );
	}
}

/**
 * @package Administration
 */
class P2P_Field_Title implements P2P_Field {

	protected $title;

	function __construct( $title = '' ) {
		$this-&gt;title = $title;
	}

	function get_title() {
		return $this-&gt;title;
	}

	function render( $key, $p2p_id, $post_id ) {
		$data = array(
			'title-attr' =&gt; get_post_type_object( get_post_type( $post_id ) )-&gt;labels-&gt;edit_item,
			'title' =&gt; get_post_field( 'post_title', $post_id ),
			'url' =&gt; get_edit_post_link( $post_id ),
		);

		$post_status = get_post_status( $post_id );

		if ( 'publish' != $post_status ) {
			$status_obj = get_post_status_object( $post_status );
			if ( $status_obj ) {
				$data['status']['text'] = $status_obj-&gt;label;
			}
		}

		return _p2p_mustache_render( 'column-title.html', $data );
	}
}

/**
 * @package Administration
 */
class P2P_Field_Generic implements P2P_Field {

	protected $data;

	function __construct( $data ) {
		if ( !is_array( $data ) )
			$data = array( 'title' =&gt; $data );

		$this-&gt;data = $data;
	}

	function get_title() {
		return $this-&gt;data['title'];
	}

	function render( $key, $p2p_id, $post_id ) {
		$form = new scbForm(
			array( $key =&gt; p2p_get_meta( $p2p_id, $key, true ) ),
			array( 'p2p_meta', $p2p_id )
		);

		$args = array(
			'type' =&gt; 'text',
			'name' =&gt; $key
		);

		if ( isset( $this-&gt;data['values'] ) ) {
			$args['type'] = 'select';
			$args['value'] = $this-&gt;data['values'];
		}

		return $form-&gt;input( $args );
	}
}

</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all()
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>